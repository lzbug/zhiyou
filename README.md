# 天智健身项目

## 项目需求

#### 前台端模块

##### **1、租柜管理**

有公用的柜子，但是每次都要去前台领钥匙太麻烦，而且有很多洗澡的东西来回背着也很麻烦，就会有人想租自己的柜子。

需要建两张表：

1.租柜表：         cab_id               int                  主键，自动递增

​                            cab_number    int     编号， 唯一，由柜号+柜子编号组成

​                            cab_capacity    int     非空     柜子容量，两种40 * 40 * 50和80 * 80 *100使用0和1表示

​                            cab_status        int     非空     柜子状态，1空闲2已租3故障0这条记录无效，默认值1

2.租柜记录表：

cab_info_id                                   int                              主键，自动递增

cab_info_number                        int                              编号，唯一，由日期+毫秒值组成

cab_info_price                              int                              非空 金额，根据月份或者年份计算，一年398，半年288，3个月138，1个月58元

cab_info_duration                       int                              非空 时长，可选一年，半年，3个月，1个月，分别表示为12,6,3,1

cab_info_create_time                  timestamp               非空，默认当前时间 开租时间，不可修改

cab_info_update_time                timestamp                非空，默认当前时间 修改时间，如果续期更新该字段

cab_info_cabnum                        int                               柜子编号

cab_info_member                       int                               非空，会员编号

cab_info_status                           int                               非空，该条记录状态，1可用0删除，默认

##### **2、前台签到**

不论是会员还是游客还是员工都需要在前台进行签到， 签到表 包含字段为id，编号，签到时间，签到人id，签到备注。

签到表：

sign_id                       int                              主键，自动递增

sign_number            int                              编号，唯一

sign_time                  timestamp               非空，默认当前时间  签到时间，不可修改

sign_per_id               int                              非空，会员编号，游客默认为0

sign_remarks            varchar                     

##### **3、会员进场**

会员进场就是会员签到完成领取公共柜钥匙就完成入场，前台签到后，自动生成进场记录， 进场表包含id，进场会员id，进场编号(毫秒数)，进场时间，出场时间（出场后修改该条记录），记录状态。

入场记录表：

approach_id                       int                      主键，自动递增

approach_per_id               int                      非空，会员编号

approach_number            int                       编号，毫秒值

approach_start_time        timestamp         非空，默认当前时间    不可修改

approach_end_time         timestamp

approach_status                int                       非空，该条记录状态，1可用0删除，默认

##### **4、潜客登记**

非会员用户进入健身房同样需要登记， 潜客表 包含，id，编号，潜客联系方式，性别，时间，备注（咨询内容），职业，爱好，家庭住址，状态等。

潜客表：

sneak_id                               int                      主键，自动递增

sneak_number                    int                      非空，默认当前时间 

sneak_phone                       int       

sneak_sex                            varchar

sneak_start_time                timestamp         非空，默认当前时间

sneak_remarks                   varchar

sneak_occupation              varchar

sneak_hobby                       varchar

sneak_address                     varchar

sneak_status                        int                        非空，该条记录状态，1可用0删除，默认

##### **5、会员充值**

会员可以充值年卡/季卡/月卡，充值私教课，充值购买食品等都要有记录，会员充值记录表包含，id，编号，充值项id，充值金额，充值时间，会员id，状态等字段。

充值表:

recharge_id                               int                       主键，自动递增

recharge_number                     int                       编号，唯一，由日期+毫秒值组成

recharge_project_id                  int                       非空    不可修改

recharge_money                       int                        非空    不可修改

recharge_money_time             timestamp         非空，默认当前时间    不可修改

recharge_per_id                        int                        非空，会员编号

recharge_status                         int                        非空，该条记录状态，1可用0删除，默认

#### 会籍端模块

##### **1、训练记录**

加入会员之后，签到入场进行设备训练，形成对应的训练记录记录在训练表中，训练表包含以下字段id，编号，会员编号，设备名称，训练时间，这个训练记录应该是会员端自己录入运动信息。高级会员使用智能设备刷卡，自动录入训练信息。

##### **2、团课预约**

团课是健身房的团操课程，比如踏板、蹦床和有氧舞蹈，可以根据发布的团课信息进行预约，团课只有主管才可发布和修改，删除而教练只能查看，会员可以预约，团课包含id，编号，课程名称，课程类型（有氧/塑性/减脂等），开始时间，结束时间，代课教练，课程状态（报名中/进行中/已结束），数据状态等字段。课程只有在状态为报名中才可预约报名。

##### **3、私教预约**

会员可以通过浏览教练查询服务，预约自己喜欢的私教，形成私教预约表，包含，会员id，私教id，预约开始时间，预约结束时间，（时间需要前台写好时间段供选择）在改教练有约的情况下不得重复预约。

##### **4、教练查询**

查看教练信息，存储在教练表包含，id，编号，名字，年龄，标签（塑性/减脂/有氧/等擅长领域），性别，介绍，头像，查询展示时只展示名字，头像，标签，点击展示所有数据，提供预约按钮进行预约。

#### 教练端模块

##### **1、排课管理**

通过超管登陆系统，绑定教练后，对应的用户端会有指定【我是教练】图标样式或按钮，点击相关按钮就会进入教练管理界面。

##### **2、学员管理**

就是日报一样的东西，填写今天做了什么事情即可，存储在日程表中。包含id，编号，教练编号，工作安排，未完成工作内容，备注等字段。

**3、日程管理**

就是日报一样的东西，填写今天做了什么事情即可，存储在日程表中。包含id，编号，教练编号，

工作安排，未完成工作内容，备注等字段。

##### **4、统计分析**

使用报表展示教练课程报名数，学员出勤等数据。

#### 会员端模块

##### **1、运动报表**

查询训练记录，使用报表展示每种设备使用时长，坚持时长激励用户继续运动

#### 主管端模块

##### **1、教练管理**

通过超级管理员登陆，开通教练用户，并录入教练数据，在教练表，id，编号，名字，年龄，标签（塑性/减脂/有氧/等擅长领域），性别，介绍，头像，入职时间，状态（实习/试用/正式/离职/辞退等）。

##### **2、会员管理**

查看会员基本信息和训练信息。

##### **3、员工管理**

查看教练信息和前台信息。

##### **4、课程管理**

对团课的增删改查，和查看教练的课程安排。

##### **5、财务管理**/**财务报表**

通过报表展示健身房课程销售金额（月为单位），商品成本和销售金额（假数据），会员消费金额，员工薪水支出（包含教练和前台），教练有课程提成，月报表和年度报表（支出和收入计算利润）

##### **6、业绩管理**

教练销售出去的课程，商品有自己的提成，存储在业绩表中，有会员购买商品，购买私教课都有记录，包含id，编号，教练id，用户编号，业绩类型（商品/课程），金额，日期时间，状态（可用/作废），备注等字段。

##### **7、会员卡管理**

潜客变身会员需要办理会员卡，可以开通和注销，查看会员卡数据。包含id，编号，会员id，开通时间，注销时间，余额，状态。可以查看会员卡消费充值记录。

#### 财务端模块

##### **1、修改记录**

每修改任何数据都需要有日志产生记录在文件或者数据库日志表中，可以查看他们的操作记录

##### **2、维护记录**

维修设备记录，存在维修表中，id，编号，设备区域，设备名称，设备编号，故障信息，维修时间，维修金额，损坏原因，负责人等信息。

## 项目技术

前端：HTML、CSS、JS、Jquery、ajax、layui/bootstrap/elemntUI 。

https://element.eleme.cn/#/zh-CN。

后端：SpringBoot、Mybatis/MP、Lombook、Driud等。

数据库：Mysql、Redis。

图片服务器：七牛云。

## **项目架构**

单体架构完成。

## 项目要求

1、查询都要有分页；

2、查询提供对应字段的搜索功能；

3、数据写入都要有数据校验；

4、页面样式是要有的，正好锻炼一下前端，页面看得过去就行，主要还是后台功能。

## 项目计划

#### 3/31

理解需求，完成数据库设计，搭建项目结构，熟悉相关技术

前台端模块：

1、租柜管理

#### 4/1

前台端模块：

2、前台签到

3、会员进场

4、潜客登记

#### 4/2

前台端模块：

5、会员充值

会籍端模块：

1、训练记录

2、团课预约

#### 4/3

会籍端模块：

3、私教预约

4、教练查询

教练端模块：

1、排课管理

#### 4/4

教练端模块：

2、学员管理

3、日程管理

4、统计分析

#### 4/5

会员端模块：

1、运动报表

主管端模块：

1、教练管理

#### 4/7

主管端模块：

2、会员管理

3、员工管理

#### 4/6

主管端模块：

4、课程管理

5、财务管理

#### 4/8

主管端模块：业绩管理，会员卡管理

财务端模块

#### 4/9

整理项目，美化页面，整体测试一遍，打包部署到Linux上。

## 项目进度

#### 已完成功能：![image-20200331220412938](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200331220412938.png)

数据库设计完成，项目搭建完成，前台端模块--租柜管理基本写完，还没有导入elemntUI的前端页面。

## 项目问题

#### 描述：